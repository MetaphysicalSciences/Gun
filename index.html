<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
<title>AUMR Retro</title>
<style>
@import url('https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap');
html,body{height:100%;width:100%;margin:0;padding:0;overflow:hidden;background:#080808;font-family:'Press Start 2P',monospace;letter-spacing:-1px}
#wrap{height:100%;width:100%;display:flex;flex-direction:column;align-items:center;justify-content:space-between;position:relative}
#top{width:100%;display:flex;justify-content:center;align-items:center;padding:14px 12px;box-sizing:border-box;gap:14px;backdrop-filter:blur(6px)}
.panel{background:rgba(20,20,20,0.6);border-radius:14px;padding:8px 12px;display:flex;gap:10px;align-items:center;box-shadow:0 8px 24px rgba(0,0,0,0.6)}
button{appearance:none;border:0;padding:12px 24px;border-radius:8px;font-size:12px;background:linear-gradient(180deg,#2c2c2c,#151515);color:#fff;cursor:pointer;touch-action:manipulation;box-shadow:0 4px 14px rgba(0,0,0,0.6)}
button:disabled{opacity:.45;cursor:not-allowed}
button:active{transform:translateY(1px)}
#imgWrap{display:flex;justify-content:center;align-items:flex-end;width:100%;flex:1;padding-bottom:18px}
#ammo{position:absolute;bottom:14px;right:16px;display:flex;gap:6px;align-items:center}
.bullet{width:14px;height:24px;border-radius:3px;background:linear-gradient(180deg,#fffbec,#ffd36b);box-shadow:0 2px 6px rgba(0,0,0,0.5)}
.bullet.empty{background:linear-gradient(180deg,#3a3a3a,#202020);opacity:0.6}
img{max-width:100%;height:auto;display:block;user-select:none;pointer-events:none;filter:contrast(120%) brightness(1.05)}
@media (max-width:520px){
  button{padding:10px 18px;font-size:10px}
  .bullet{width:10px;height:18px}
}
</style>
<script>
const reloadSeq=["AUMRB0.png","AUMRC0.png","AUMRD0.png","AUMRE0.png","AUMRF0.png","AUMRG0.png","AUMRH0.png","AUMRI0.png","AUMRJ0.png","AUMRK0.png","AUMRL0.png"];
const emptyReloadSeq=["AUERB0.png","AUERC0.png","AUERD0.png","AUERE0.png","AUERF0.png","AUERG0.png","AUERH0.png","AUERI0.png","AUMPA0.png"];
const shootSeq=["AUMPD0.png","AUMPE0.png","AUMPF0.png","AUMFB0.png","AUMFA0.png","AUMPG0.png","AUMRA0.png","AUMPF0.png"];
const preload=[...reloadSeq,...emptyReloadSeq,...shootSeq,"AUMPA0.png","AUEPA0.png"];
for(let f of preload){const im=new Image();im.src=f;}
let ammo=7;
let shooting=false;
let reloading=false;
function setImgNow(src){document.getElementById("mainImg").src=src}
function updateAmmoUI(){
  const container=document.getElementById("ammo");
  container.innerHTML='';
  for(let i=0;i<7;i++){
    const b=document.createElement('div');
    b.className='bullet'+(i<ammo?'':' empty');
    container.appendChild(b);
  }
}
function playSequence(seq,endImg,doneCallback,speed){
  const el=document.getElementById("mainImg");
  let i=0;
  const t=setInterval(()=>{
    if(i<seq.length){el.src=seq[i];i++}
    if(i>=seq.length){
      clearInterval(t);
      if(endImg)el.src=endImg;
      if(doneCallback)setTimeout(doneCallback,120);
    }
  },speed);
}
function reloadAction(){
  if(reloading||shooting)return;
  reloading=true;
  const reloadBtn=document.getElementById("reloadBtn");
  const shootBtn=document.getElementById("shootBtn");
  reloadBtn.disabled=true;
  shootBtn.disabled=true;
  const seq=(ammo<=0)?emptyReloadSeq:reloadSeq;
  playSequence(seq,"AUMPA0.png",()=>{
    ammo=7;
    updateAmmoUI();
    reloading=false;
    reloadBtn.disabled=false;
    shootBtn.disabled=false;
    setImgNow("AUMPA0.png");
  },140);
}
function shootAction(){
  if(shooting||reloading||ammo<=0)return;
  shooting=true;
  ammo--;
  updateAmmoUI();
  const shootBtn=document.getElementById("shootBtn");
  shootBtn.disabled=true;
  playSequence(shootSeq,null,()=>{
    shooting=false;
    shootBtn.disabled=false;
    if(ammo<=0){
      setImgNow("AUEPA0.png");
      document.getElementById("shootBtn").disabled=true;
    }
  },90);
}
window.addEventListener('keydown',e=>{if(e.key==="F5")e.preventDefault()});
document.addEventListener('DOMContentLoaded',()=>{
  updateAmmoUI();
  document.getElementById("reloadBtn").addEventListener('click',reloadAction);
  document.getElementById("shootBtn").addEventListener('click',shootAction);
});
</script>
</head>
<body>
<div id="wrap">
  <div id="top">
    <div class="panel">
      <button id="reloadBtn" type="button">RELOAD</button>
      <button id="shootBtn" type="button">SHOOT</button>
    </div>
  </div>
  <div id="imgWrap">
    <img id="mainImg" src="AUEPA0.png" alt="AUEPA0">
  </div>
  <div id="ammo"></div>
</div>
</body>
</html>
