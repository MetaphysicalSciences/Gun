<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
<title>2D Shooter</title>
<style>
html,body{margin:0;padding:0;height:100%;width:100%;overflow:hidden;background:#000;color:#fff;font-family:sans-serif}
#menu,#settings{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;flex-direction:column;align-items:center;justify-content:center;background:#111;z-index:10}
button{appearance:none;border:0;padding:12px 30px;margin:10px;border-radius:12px;background:#222;color:#fff;font-size:20px;cursor:pointer;touch-action:manipulation}
button:active{background:#555}
#gameCanvas{display:block;background:#000;width:100%;height:100%}
#mobileControls{position:absolute;bottom:20px;width:100%;display:flex;justify-content:space-between;padding:0 40px;pointer-events:auto}
.mobileBtn{width:60px;height:60px;border-radius:50%;background:#333;display:flex;align-items:center;justify-content:center;color:#fff;font-size:24px;user-select:none;touch-action: manipulation}
</style>
<script>
let canvas,ctx,gameRunning=false,player={},bullets=[],enemies=[],lastFrame=0,mobileButtons=true;
function startGame(){
  document.getElementById("menu").style.display="none";
  gameRunning=true;
  initGame();
  requestAnimationFrame(gameLoop);
}
function toggleMobile(){mobileButtons=!mobileButtons;document.getElementById("mobileControls").style.display=mobileButtons?'flex':'none'}
function initGame(){
  canvas=document.getElementById("gameCanvas");
  ctx=canvas.getContext("2d");
  canvas.width=window.innerWidth;
  canvas.height=window.innerHeight;
  player={x:canvas.width/2,y:canvas.height-200,w:100,h:100,img:new Image(),speed:8};
  player.img.src="AUEPA0.png";
  bullets=[];
  enemies=[];
  spawnEnemy();
}
function spawnEnemy(){
  const e={x:Math.random()*(canvas.width-50),y:-50,w:50,h:50,vy:2,img:new Image()};
  e.img.src="AUMRB0.png";
  enemies.push(e);
  setTimeout(spawnEnemy,2000);
}
function shoot(){bullets.push({x:player.x+player.w/2-5,y:player.y,vy:-12,w:10,h:20})}
function update(delta){
  bullets.forEach(b=>b.y+=b.vy);
  bullets=bullets.filter(b=>b.y+b.h>0);
  enemies.forEach(e=>{e.y+=e.vy});
  enemies=enemies.filter(e=>e.y<canvas.height+50);
}
function draw(){
  ctx.clearRect(0,0,canvas.width,canvas.height);
  ctx.drawImage(player.img,player.x,player.y,player.w,player.h);
  bullets.forEach(b=>{ctx.fillStyle="#f00";ctx.fillRect(b.x,b.y,b.w,b.h)});
  enemies.forEach(e=>ctx.drawImage(e.img,e.x,e.y,e.w,e.h));
}
function gameLoop(timestamp){
  const delta=(timestamp-lastFrame)/16.666;
  lastFrame=timestamp;
  if(!gameRunning)return;
  update(delta);
  draw();
  requestAnimationFrame(gameLoop);
}
window.addEventListener("keydown",e=>{
  if(e.key==="ArrowLeft")player.x-=player.speed;
  if(e.key==="ArrowRight")player.x+=player.speed;
  if(e.key===" ")shoot();
});
window.addEventListener("touchstart",e=>{
  const t=e.touches[0];
  if(t.clientX<canvas.width/2)player.x-=player.speed;
  else player.x+=player.speed;
});
window.addEventListener("resize",()=>{canvas.width=window.innerWidth;canvas.height=window.innerHeight});
</script>
</head>
<body>
<div id="menu">
  <button onclick="startGame()">Start Game</button>
  <button onclick="document.getElementById('settings').style.display='flex'">Settings</button>
</div>
<div id="settings" style="display:none">
  <button onclick="toggleMobile()">Toggle Mobile Buttons</button>
  <button onclick="document.getElementById('settings').style.display='none'">Back</button>
</div>
<canvas id="gameCanvas"></canvas>
<div id="mobileControls">
  <div class="mobileBtn" onclick="player.x-=player.speed">◀</div>
  <div class="mobileBtn" onclick="shoot()">●</div>
  <div class="mobileBtn" onclick="player.x+=player.speed">▶</div>
</div>
</body>
</html>
